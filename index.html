<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>NAGI BROKER AI - Assistente Imobili√°rio Inteligente</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <script type="importmap">
    {
        "imports": {
            "nanoid": "https://esm.sh/nanoid@5"
        }
    }
    </script>
    
    <link rel="stylesheet" href="style.css">
    
    <!-- Google Identity Services -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
    <div id="app-root">
        <header class="app-header">
            <div class="brand">
                <span class="logo-dot"></span>
                <span class="brand-text-main">NAGI BROKER AI</span>
                <span class="brand-text-sub">Assistente Imobili√°rio</span>
            </div>
            
            <div class="header-right">
                <div class="lang-toggle" id="lang-toggle">
                    <button data-lang="pt" class="lang-btn active">PT</button>
                    <button data-lang="en" class="lang-btn">EN</button>
                </div>
                
                <div id="auth-area">
                    <div id="g_id_onload"
                         data-auto_prompt="false"
                         data-context="signin"
                         data-ux_mode="popup"
                         data-itp_support="true"
                         data-callback="handleGoogleCredential"
                         data-client_id="54495922404-90dpm3542ktljge07ntttaa6vdt6ffco.apps.googleusercontent.com">
                    </div>
                    <div class="g_id_signin"
                         data-type="standard"
                         data-size="medium"
                         data-theme="outline"
                         data-text="signin_with"
                         data-shape="rectangular"
                         data-logo_alignment="left">
                    </div>
                </div>
                
                <div id="user-info" class="user-info hidden">
                    <img id="user-avatar" alt="User avatar">
                    <span id="user-name"></span>
                    <button id="sign-out-btn" class="ghost-btn">Sair</button>
                </div>
                
                <div id="login-warning" class="login-warning">
                    <span id="login-warning-text">Fa√ßa login com Google para come√ßar</span>
                </div>
            </div>
        </header>
        
        <main class="app-main">
            <section class="panel panel-left">
                <form id="property-form" class="property-form">
                    <div class="panel-header">
                        <h1 id="form-title">Gerador de Descri√ß√µes Imobili√°rias</h1>
                        <p id="form-subtitle">
                            Preencha os dados do im√≥vel e gere descri√ß√µes persuasivas para an√∫ncios
                        </p>
                    </div>
                    
                    <div class="form-grid">
                        <div class="field-group">
                            <label for="property-type" id="label-property-type">Tipo de Im√≥vel</label>
                            <select id="property-type">
                                <option value="apartamento">Apartamento</option>
                                <option value="casa">Casa</option>
                                <option value="moradia">Moradia</option>
                                <option value="escritorio">Escrit√≥rio</option>
                                <option value="loja">Loja/Comercial</option>
                                <option value="terreno">Terreno</option>
                            </select>
                        </div>
                        
                        <div class="field-group">
                            <label for="headline" id="label-headline">T√≠tulo / Destaque</label>
                            <input id="headline" type="text" placeholder="Ex: Luxuoso apartamento com vista para o mar">
                        </div>
                        
                        <div class="field-row">
                            <div class="field-group">
                                <label for="bedrooms" id="label-bedrooms">Quartos</label>
                                <input id="bedrooms" type="number" min="0">
                            </div>
                            <div class="field-group">
                                <label for="bathrooms" id="label-bathrooms">Banheiros</label>
                                <input id="bathrooms" type="number" min="0">
                            </div>
                            <div class="field-group">
                                <label for="area" id="label-area">√Årea (m¬≤)</label>
                                <input id="area" type="number" min="0">
                            </div>
                        </div>
                        
                        <div class="field-row">
                            <div class="field-group">
                                <label for="parking" id="label-parking">Vagas</label>
                                <input id="parking" type="number" min="0">
                            </div>
                            <div class="field-group">
                                <label for="price" id="label-price">Pre√ßo</label>
                                <input id="price" type="text" placeholder="Ex: 250.000 ‚Ç¨">
                            </div>
                            <div class="field-group">
                                <label for="address" id="label-address">Localiza√ß√£o</label>
                                <input id="address" type="text" placeholder="Bairro, Cidade">
                            </div>
                        </div>
                        
                        <div class="field-group">
                            <label for="highlights" id="label-highlights">Caracter√≠sticas Especiais</label>
                            <textarea id="highlights" rows="3" placeholder="Piscina, varanda, vista, amenities..."></textarea>
                        </div>
                        
                        <div class="field-group">
                            <label for="audience" id="label-audience">P√∫blico-Alvo</label>
                            <select id="audience">
                                <option value="familias">Fam√≠lias</option>
                                <option value="investidores">Investidores</option>
                                <option value="jovens">Jovens Profissionais</option>
                                <option value="luxo">Alto Padr√£o</option>
                            </select>
                        </div>
                        
                        <div class="field-group">
                            <label for="tone" id="label-tone">Tom da Mensagem</label>
                            <select id="tone">
                                <option value="profissional">Profissional</option>
                                <option value="emocional">Emocional</option>
                                <option value="luxuoso">Luxuoso</option>
                                <option value="direto">Direto e Objetivo</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-footer">
                        <div class="quota">
                            <span id="quota-label">Gera√ß√µes restantes:</span>
                            <span id="quota-count">1</span>
                        </div>
                        <button type="submit" id="generate-btn" class="primary-btn" disabled>
                            Gerar Descri√ß√µes
                        </button>
                    </div>
                </form>
            </section>
            
            <section class="panel panel-right">
                <div class="panel-header">
                    <h2 id="output-title">Descri√ß√µes Geradas</h2>
                </div>
                
                <div class="tabs">
                    <button class="tab-btn active" data-tab="short">Curta</button>
                    <button class="tab-btn" data-tab="medium">M√©dia</button>
                    <button class="tab-btn" data-tab="long">Longa</button>
                </div>
                
                <div class="outputs">
                    <article id="output-short" class="output-block active"></article>
                    <article id="output-medium" class="output-block"></article>
                    <article id="output-long" class="output-block"></article>
                </div>
                
                <div class="output-footer">
                    <button id="copy-all-btn" class="ghost-btn small" disabled>
                        Copiar Tudo
                    </button>
                    <span id="status-message" class="status-message"></span>
                </div>
            </section>
        </main>
        
        <!-- Modal de Pagamento -->
        <div id="paywall-overlay" class="overlay hidden">
            <div class="overlay-content">
                <h2 id="paywall-title">Ativar Plano Profissional</h2>
                <p id="paywall-text">
                    Voc√™ usou sua gera√ß√£o gratuita. Ative o plano mensal para gerar descri√ß√µes ilimitadas.
                </p>
                
                <div class="plan-details">
                    <div class="plan-price">
                        <span class="price">$9,99</span>
                        <span class="period">/m√™s</span>
                    </div>
                    <ul class="benefits-list" id="benefits-list">
                        <li>‚úÖ Gera√ß√µes ilimitadas</li>
                        <li>‚úÖ 3 vers√µes por descri√ß√£o</li>
                        <li>‚úÖ Suporte em Portugu√™s e Ingl√™s</li>
                        <li>‚úÖ Atualiza√ß√µes constantes</li>
                    </ul>
                </div>
                
                <button id="upgrade-btn" class="primary-btn full-width" style="margin-bottom: 16px;">
                    üõí Comprar Plano Profissional
                </button>
                
                <div class="payment-verification" id="payment-verification">
                    <h3>Verificar Pagamento</h3>
                    <p>Digite o c√≥digo recebido por email ap√≥s o pagamento:</p>
                    <input type="text" id="verification-code" placeholder="C√≥digo de 6 d√≠gitos" maxlength="6" style="width: 100%; padding: 12px; font-size: 18px; text-align: center; letter-spacing: 3px; margin: 12px 0;">
                    <button id="activate-code-btn" class="ghost-btn full-width" style="margin-bottom: 8px;">
                        ‚úÖ Ativar com C√≥digo
                    </button>
                    <p class="hint" id="paywall-hint">
                        Ap√≥s o pagamento, voc√™ receber√° um c√≥digo de ativa√ß√£o por email.
                    </p>
                </div>
                
                <button id="close-paywall-btn" class="ghost-btn full-width">
                    Fechar
                </button>
            </div>
        </div>
    </div>
    
    <script type="module" src="app.js"></script>
</body>
</html>