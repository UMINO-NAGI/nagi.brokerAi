<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <title>NAGI REAL ESTATE ASSISTANT</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Gerador inteligente de descri√ß√µes imobili√°rias. Crie textos persuasivos para an√∫ncios, apresenta√ß√µes e discursos.">
  
  <!-- Import map for ESM libraries -->
  <script type="importmap">
    {
      "imports": {
        "nanoid": "https://esm.sh/nanoid@5.0.7"
      }
    }
  </script>

  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üè°</text></svg>">

  <!-- Google Identity Services -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  
  <!-- Meta tags for social sharing -->
  <meta property="og:title" content="NAGI Real Estate Assistant">
  <meta property="og:description" content="Gerador inteligente de descri√ß√µes imobili√°rias">
  <meta property="og:type" content="website">
</head>
<body>
  <div id="app-root">
    <header class="app-header">
      <div class="brand">
        <span class="logo-dot"></span>
        <span class="brand-text-main">NAGI</span>
        <span class="brand-text-sub">Real Estate Assistant</span>
      </div>

      <div class="header-right">
        <div class="lang-toggle" id="lang-toggle">
          <button data-lang="pt" class="lang-btn active" aria-label="Portugu√™s">PT</button>
          <button data-lang="en" class="lang-btn" aria-label="English">EN</button>
        </div>

        <div id="auth-area">
          <!-- Google sign-in -->
          <div id="g_id_onload"
               data-auto_prompt="false"
               data-context="signin"
               data-ux_mode="popup"
               data-itp_support="true"
               data-callback="handleGoogleCredential"
               data-client_id="54495922404-90dpm3542ktljge07ntttaa6vdt6ffco.apps.googleusercontent.com">
          </div>
          <div class="g_id_signin"
               data-type="standard"
               data-size="medium"
               data-theme="outline"
               data-text="signin_with"
               data-shape="rectangular"
               data-logo_alignment="left"
               data-width="auto">
          </div>
        </div>

        <div id="user-info" class="user-info hidden">
          <img id="user-avatar" alt="User avatar" crossorigin="anonymous" />
          <span id="user-name"></span>
          <button id="sign-out-btn" class="ghost-btn" aria-label="Sign out">Sair</button>
        </div>

        <div id="login-warning" class="login-warning hidden">
          <span id="login-warning-text">Inicie sess√£o com o Google para come√ßar.</span>
        </div>
      </div>
    </header>

    <main class="app-main">
      <section class="panel panel-left">
        <form id="property-form" class="property-form" novalidate>
          <div class="panel-header">
            <h1 id="form-title">Gerador inteligente de descri√ß√µes imobili√°rias</h1>
            <p id="form-subtitle">
              Insira os detalhes do im√≥vel e receba tr√™s vers√µes prontas para an√∫ncios, apresenta√ß√µes e discursos.
            </p>
          </div>

          <div class="form-grid">
            <div class="field-group">
              <label for="property-type" id="label-property-type">Tipo de im√≥vel</label>
              <select id="property-type" required>
                <option value="apartamento">Apartamento</option>
                <option value="casa">Casa</option>
                <option value="moradia">Moradia</option>
                <option value="escritorio">Escrit√≥rio</option>
                <option value="loja">Loja/Comercial</option>
                <option value="terreno">Terreno</option>
                <option value="outro">Outro</option>
              </select>
            </div>

            <div class="field-group">
              <label for="headline" id="label-headline">T√≠tulo / foco principal</label>
              <input
                id="headline"
                type="text"
                maxlength="120"
                placeholder="Ex.: Luxuoso T3 com vista mar e varanda ampla"
                aria-describedby="headline-help"
              />
              <small id="headline-help" style="font-size: 0.65rem; color: var(--text-soft); display: none;">
                Use palavras-chave atrativas
              </small>
            </div>

            <div class="field-row">
              <div class="field-group">
                <label for="bedrooms" id="label-bedrooms">Quartos</label>
                <input id="bedrooms" type="number" min="0" step="1" />
              </div>
              <div class="field-group">
                <label for="bathrooms" id="label-bathrooms">Banheiros</label>
                <input id="bathrooms" type="number" min="0" step="1" />
              </div>
              <div class="field-group">
                <label for="kitchens" id="label-kitchens">Cozinhas</label>
                <input id="kitchens" type="number" min="0" step="1" />
              </div>
            </div>

            <div class="field-row">
              <div class="field-group">
                <label for="parking" id="label-parking">Vagas de garagem</label>
                <input id="parking" type="number" min="0" step="1" />
              </div>
              <div class="field-group">
                <label for="area" id="label-area">√Årea (m¬≤)</label>
                <input id="area" type="number" min="0" step="1" />
              </div>
              <div class="field-group">
                <label for="price" id="label-price">Valor</label>
                <input
                  id="price"
                  type="text"
                  placeholder="Ex.: 250.000 ‚Ç¨, R$ 800.000, 1200 ‚Ç¨/m√™s"
                />
              </div>
            </div>

            <div class="field-group">
              <label for="address" id="label-address">Morada / localiza√ß√£o</label>
              <input
                id="address"
                type="text"
                placeholder="Rua, bairro, cidade, pa√≠s ou zona de refer√™ncia"
              />
            </div>

            <div class="field-group">
              <label for="location-context" id="label-location-context">Contexto da localiza√ß√£o</label>
              <input
                id="location-context"
                type="text"
                placeholder="Pr√≥ximo a escolas, praias, transportes, centros comerciais..."
              />
            </div>

            <div class="field-group">
              <label for="highlights" id="label-highlights">Destaques e comodidades</label>
              <textarea
                id="highlights"
                rows="2"
                placeholder="Piscina, varanda gourmet, suite, vista mar, mobiliado, condom√≠nio com seguran√ßa 24h..."
              ></textarea>
            </div>

            <div class="field-group">
              <label for="extras" id="label-extras">Observa√ß√µes / informa√ß√µes complementares</label>
              <textarea
                id="extras"
                rows="3"
                placeholder="Informa√ß√µes espec√≠ficas, regras do condom√≠nio, possibilidade de financiamento, etc."
              ></textarea>
            </div>

            <div class="field-row">
              <div class="field-group">
                <label for="audience" id="label-audience">P√∫blico-alvo</label>
                <select id="audience">
                  <option value="familias">Fam√≠lias</option>
                  <option value="investidores">Investidores</option>
                  <option value="jovens">Jovens profissionais</option>
                  <option value="luxo">Segmento de luxo</option>
                  <option value="aluguel">Arrendamento / aluguel</option>
                  <option value="geral">Geral</option>
                </select>
              </div>

              <div class="field-group">
                <label for="tone" id="label-tone">Tom da comunica√ß√£o</label>
                <select id="tone">
                  <option value="encantador">Encantador e envolvente</option>
                  <option value="objetivo">Objetivo e profissional</option>
                  <option value="emocional">Emocional e inspirador</option>
                  <option value="premium">Premium / alto padr√£o</option>
                </select>
              </div>
            </div>
          </div>

          <div class="form-footer">
            <div class="quota">
              <span id="quota-label">Gera√ß√µes gratuitas restantes:</span>
              <span id="quota-count">3</span>
            </div>
            <button type="submit" id="generate-btn" class="primary-btn">
              Gerar descri√ß√µes
            </button>
          </div>
        </form>
      </section>

      <section class="panel panel-right">
        <div class="panel-header">
          <h2 id="output-title">Resultados gerados</h2>
        </div>

        <div class="tabs">
          <button class="tab-btn active" data-tab="short" id="tab-short">Curta</button>
          <button class="tab-btn" data-tab="medium" id="tab-medium">M√©dia</button>
          <button class="tab-btn" data-tab="long" id="tab-long">Longa</button>
        </div>

        <div class="outputs">
          <article id="output-short" class="output-block active" aria-labelledby="tab-short"></article>
          <article id="output-medium" class="output-block" aria-labelledby="tab-medium"></article>
          <article id="output-long" class="output-block" aria-labelledby="tab-long"></article>
        </div>

        <div class="output-footer">
          <button id="copy-all-btn" class="ghost-btn small">
            Copiar todas as vers√µes
          </button>
          <span id="status-message" class="status-message"></span>
        </div>
      </section>
    </main>

    <!-- Paywall / upgrade modal -->
    <div id="paywall-overlay" class="overlay hidden" role="dialog" aria-modal="true" aria-labelledby="paywall-title">
      <div class="overlay-content">
        <h2 id="paywall-title">Atualize o seu plano</h2>
        <p id="paywall-text">
          Voc√™ j√° utilizou as 3 gera√ß√µes gratuitas do NAGI REAL ESTATE ASSISTANT.
          Para continuar a criar descri√ß√µes ilimitadas, ative o plano profissional.
        </p>

        <ul class="benefits-list" id="benefits-list">
          <li>Gera√ß√µes ilimitadas de descri√ß√µes e discursos imobili√°rios</li>
          <li>Textos otimizados para an√∫ncios online, impressos e apresenta√ß√µes</li>
          <li>Conte√∫dos sempre diferentes, persuasivos e encantadores</li>
        </ul>

        <a
          id="upgrade-btn"
          class="primary-btn full-width upgrade-btn"
          href="https://www.paypal.com/ncp/payment/YBLWPYKEZBBZC"
          target="_blank"
          rel="noopener noreferrer"
        >
          Atualizar plano via PayPal
        </a>

        <button id="already-paid-btn" class="ghost-btn full-width already-paid-btn">
          J√° efetuei o pagamento
        </button>

        <p class="hint" id="paywall-hint">
          Ap√≥s concluir o pagamento com sucesso, toque em "J√° efetuei o pagamento"
          para ativar o seu plano nesta conta.
        </p>
      </div>
    </div>
  </div>

  <script type="module" src="app.js"></script>
</body>
</html>